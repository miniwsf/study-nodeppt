<!doctype html><html><head><meta charset=UTF-8><title>QUIC - By wsf</title><link rel=stylesheet href=//cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css><link rel=stylesheet href=//cdn.staticfile.org/prism/1.15.0/themes/prism.min.css><link rel=stylesheet href=//cdn.staticfile.org/KaTeX/0.10.0-rc.1/katex.min.css><link href=./css/chunk-vendors.4e4765ff.css rel=stylesheet></head><body><div><article id=webslides><section slide class="slide bg-black-blue aligncenter" image="https://source.unsplash.com/C1HhAQrbykQ/ .dark"><span class="background dark" style="background-image:url('https://source.unsplash.com/C1HhAQrbykQ/')"></span><div class=wrap wrap=true><h2>QUIC</h2><p class="animated fadeInDown delay-800">(Quick UDP Internet Connections)</p></div></section><section slide class="slide aligncenter"><div class=wrap wrap=true><h3>QUIC是什么？</h3><div class="vertical-align grid"><div class="column text-description"><p>快速UDP网络连接（英语：Quick UDP Internet Connections），是一种实验性的网络传输协议。Google希望使用这个协议来取代HTTPS/HTTP协议，使网页传输速度加快。</p></div><div class=column><p>QUIC是由Google开发，旨在提供基于TLS/DTLS的网络安全保护，减少数据传输及创建连线时的延迟时间，双向控制带宽，以避免网络拥塞。</p></div></div></div></section><section slide class=slide><div class=wrap wrap=true><img src=https://miniwsf.github.io/study-nodeppt/quic/image/WechatIMG1.png class="size-40 alignleft"><div class=content-right><h3>Why QUIC？</h3><ul class=flexblock><li><h3>网络延迟</h3><p>网络延迟包含：处理延迟，排队延迟，传输延迟，传播延迟</p><p><code>RTT（往返时间）：是网络请求从起点到目的地并再次回到起点所花费的持续时间（以毫秒为单位）——衡量网络延迟的重要指标</code></p></li></ul></div></div></section><section slide class=slide><div class=wrap wrap=true><div class="sm grid"><div class=column><img src=https://miniwsf.github.io/study-nodeppt/quic/image/chrome_waterfall.png class=alignleft></div><div class=column><table><thead><tr><th style=text-align:left>延迟时间（单位ms）</th><th style=text-align:center>用户反应</th></tr></thead><tbody><tr><td style=text-align:left>0 - 16</td><td style=text-align:center>用户可以感知每秒渲染 60 帧的平滑动画转场。也就是每帧 16 毫秒，留给应用大约 10 毫秒的时间来生成一帧。</td></tr><tr><td style=text-align:left>0 - 100</td><td style=text-align:center>在此时间窗口内响应用户操作，他们会觉得可以立即获得结果。时间再长，操作与反应之间的连接就会中断。</td></tr><tr><td style=text-align:left>100 - 300</td><td style=text-align:center>用户会遇到轻微可觉察的延迟。</td></tr><tr><td style=text-align:left>300 - 1000</td><td style=text-align:center>在此窗口内，延迟感觉像是任务自然和持续发展的一部分。对于网络上的大多数用户，加载页面或更改视图代表着一个任务。</td></tr><tr><td style=text-align:left>1000+</td><td style=text-align:center>超过 1 秒，用户的注意力将离开他们正在执行的任务。</td></tr><tr><td style=text-align:left>10,000+</td><td style=text-align:center>用户感到失望，可能会放弃任务；之后他们或许不会再回来。</td></tr></tbody></table></div></div></div></section><section slide class=slide><div class=wrap wrap=true><ul class="clients border flexblock"><li><a><figure><figcaption><h3>TCP</h3><p>TCP快启动<br><code>允许在SYN和SYN-ACK中携带数据，数据包和接收端在初始阶段消耗的数据包。连接握手，最多可节省一个完整的往返时间（RTT）</code></p><p><strong>缺点</strong><br><code>兼容差（TCP是操作系统内核实现）</code><br><code>隐私问题</code></p></figcaption></figure></a></li><li><a><figure><figcaption><h3>TSL</h3><p>TSL/1.3</p><p>首次：2RTT减少至1RTT<br>0-RTT：如果客户端和服务器之前已在彼此之间建立TLS连接，则它们可以使用从该会话中缓存的信息来建立新的TLS，而不必从头开始协商连接的参数。</p></figcaption></figure></a></li><li><a><figure><figcaption><h3>HTTP</h3><p>HTTP/1.1<br><code>持久连接（Connetion: keep-alive）——减少tcp连接数</code></p><p>HTTP/2<br><code>多路复用 ——减少tcp连接数</code></p><p><strong>缺点</strong><br><code>队头阻塞问题</code><br><code>没有根本解决TCP连接延迟问题</code></p></figcaption></figure></a></li></ul></div></section><section slide class=slide><div class=wrap wrap=true><h3>QUIC实现0-RTT</h3><div class="vertical-align grid"><div class=column><ul><li>基于UDP（面向无连接的），没有三次握手过程</li><li>首次进入：合并原有的TCP连接和TLS认证过程，将TCP(1RTT)+TSL(2RTT)减少为1RTT，后续进入实现0-RTT（0-RTT存在一定 安全风险，可以默认不开启）</li></ul></div><div class=column><img src=https://lh3.googleusercontent.com/o62Ohn1Ppxna6zz0NtavqRyetjryOj-81Sz4bRt3U8lURVblk5RKOaCcf57i6BkmprremePJpq_sQcxfJiuA4wJBmRp3pR4BS1P-yiT6UNUPvnBeP_rLz9bvHxFE15kuNBM2hpE></div></div></div></section><section slide class=slide><div class=wrap wrap=true><div class="vertical-align grid"><div class=column><p>TCP+TLS:</p><img src=https://www.yinchengli.com/wp-content/uploads/2018/06/8.png></div><div class=column><p>QUIC:</p><img src=https://www.yinchengli.com/wp-content/uploads/2018/06/9.png></div></div><p>（chrome数据：QUIC在糟糕的网络条件下胜过TCP，将Google搜索页面的加载时间缩短了整整一秒钟，这是最慢的1％的连接。对于YouTube等视频服务而言，这些优势更加明显。通过QUIC观看视频时，用户报告的重新缓冲减少了30％）</p></div></section><section slide class=slide><div class=wrap wrap=true><img src=https://miniwsf.github.io/study-nodeppt/quic/image/WechatIMG1.png class="size-40 alignleft"><div class=content-right><h3>Why QUIC？</h3><ul class="specs flexblock"><li><div><h3>网络延迟</h3></div></li><li><div><h3>队头阻塞</h3><p><code>（Head-of-line blocking）</code><br>当顺序发送的请求序列中的一个请求因为某种原因被阻塞时，在后面排队的所有请求也一并被阻塞</p></div></li></ul></div></div></section><section slide class=slide :class=size-80><div class="wrap size-80" wrap=true><h2>HTTP历程</h2><p><code>仅针对连接逻辑</code></p><hr><ul class="flexblock steps"><li><h2>HTTP/1.0</h2><p>一次只能发起一个请求，下一个请求需要等上一个请求收到响应之后才能继续。</p></li><li><div class="process step-2"></div><h2>HTTP/1.1</h2><p>流水线（pipelining）：多个请求整批提交（一般浏览器允许的最大连接为6个）</p></li><li><div class="process step-3"></div><h2>HTTP/2</h2><p>多路复用（Multiplexing）：在一个信道上传输多路信号或数据流的过程和技术</p></li></ul></div></section><section slide class=slide><div class=wrap wrap=true><div class="vertical-align grid"><div class=column><p>HTTP/1.1:</p><img src=https://freecontent.manning.com/wp-content/uploads/HTTP-vs-with-Push-HTTP1.gif></div><div class=column><p>HTTP/2:</p><img src=https://freecontent.manning.com/wp-content/uploads/HTTP-vs-with-Push-HTTP2.gif></div></div></div></section><section slide class=slide><div class=wrap wrap=true><div class=content-center><h2>多路复用解决队头阻塞</h2><p>QUIC使用UDP协议作为其基础，不包括丢失恢复。相反，每个QUIC流是单独控制的，并且在QUIC级别而不是UDP级别重传丢失的数据。这意味着如果在一个流中发生错误，协议栈仍然可以独立地继续为其他流提供服务</p></div></div></section><section slide class=slide><div class=wrap wrap=true><img src=https://miniwsf.github.io/study-nodeppt/quic/image/WechatIMG1.png class="size-40 alignleft"><div class=content-right><h3>Why QUIC？</h3><ul class="specs flexblock"><li><div><h3>网络延迟</h3></div></li><li><div><h3>队头阻塞</h3></div></li><li><div><h3 class="text-subtitle animated fadeInUp delay-800">其他</h3><ul><li class="animated fadeInUp delay-800">网络切换：当移动设备的用户从WiFi热点切换到移动网络时发生的情况。 当这发生在TCP上时，一个冗长的过程开始了：每个现有连接一个接一个地超时，然后根据需要重新创建</li></ul></div></li></ul></div></div></section><section slide class="slide aligncenter"><div class=wrap wrap=true><div class=text-cols><p>已经应用的公司：<br><code>Google</code> <code>youtube</code> <code>腾讯</code> <code>快手</code></p><hr><p>HTTP/3：使用QUIC协议实现</p></div></div></section><section slide class="slide aligncenter"><div class=wrap wrap=true><p>感激～<br>over</p></div></section></article></div><script>window.pluginsOptions = {}



document.addEventListener('DOMContentLoaded', () => {
    let isPrintMode = false;
    if(~location.search.indexOf('print-pdf')){
        isPrintMode = true;
        WebSlides.registerPlugin('scroll', function(){});
    }
    const ws = new WebSlides({
        loop: false
    })
    window.wsInstance = ws;
    if(isPrintMode){
        ws.slides.forEach(s=>s.show())
    }
}, false)</script><script src=./js/chunk-vendors.js></script><script src=./js/quic.js></script></body></html>